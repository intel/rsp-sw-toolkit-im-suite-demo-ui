<!--/* Apache v2 license
*  Copyright (C) <2019> Intel Corporation
*
*  SPDX-License-Identifier: Apache-2.0
*/ -->
<mat-toolbar color="primary">
  <h1 class="mat-display-1">Loss Prevention Recording</h1>
</mat-toolbar>

<div class="mat-elevation-z8" *ngIf="this.loading">
  <div fxFlexFill fxLayoutAlign="center center" >
    <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
  </div>
</div>

<div class="mat-elevation-z8" *ngIf="!this.loading && this.recording?.detections.length !== 0">
  <mat-card fxFlex=100>
    <mat-card-header>
      <mat-card-title>Objects of Interest</mat-card-title>
    </mat-card-header>
    <mat-card-content fxLayout="row wrap" >
      <div></div>
      <div *ngFor="let detection of this.recording.detections;" >
        <img [src]="getFullPath(detection)" />
      </div>
    </mat-card-content>
  </mat-card>
</div>

<div class="mat-elevation-z8">
  <mat-card fxFlex=100>
    <mat-card-header>
      <mat-card-title>CCTV Video Clip</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <video id="player" playsinline controls>
      </video>
      <div *ngIf="!this.loading">
      <p><strong>Timestamp:</strong> {{ recording.timestamp | date:'long' }}</p>
      <p><strong>Product ID:</strong> {{ recording.product_id }}</p>
      <p><strong>EPC:</strong> {{ recording.epc }}</p>
    </div>
    </mat-card-content>
    <mat-card-footer>

    </mat-card-footer>
  </mat-card>
</div>
